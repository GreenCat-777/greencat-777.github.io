<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>404 | Page Not Found</title>
<link rel="stylesheet" href="style.css">
<style>
/* Inline extra styling for 404 page */
.snake-container {
    text-align: center;
}
#snakeGame {
    border: 2px solid #0ed145;
    margin-top: 20px;
}
.button-snake {
    display: inline-block;
    padding: 10px 25px;
    margin-top: 20px;
    border: 2px solid #0ed145;
    border-radius: 6px;
    color: #0ed145;
    background: none;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.3s;
}
.button-snake:hover {
    background-color: #0ed145;
    color: #000000;
}
</style>
</head>
<body>
    <a href="./index.html" class="back-home">Home</a>
<div class="container snake-container" id="content">
    <h1>404</h1>
    <h2>Page not found</h2>
    <p>Oops! Looks like youâ€™re lost.</p>
    <button class="button-snake" onclick="startSnake()">Wanna Play Snake?</button>
</div>

<script>
function startSnake(){
    // Replace container content with canvas
    const container = document.getElementById("content");
    container.innerHTML = `
        <h2>Snake Game</h2>
        <canvas id="snakeGame" width="300" height="300"></canvas>
        <p>Use arrow keys to move the snake. Eat green squares to grow!</p>
    `;

    const canvas = document.getElementById("snakeGame");
    const ctx = canvas.getContext("2d");

    const box = 15;
    let snake = [{x: 7*box, y: 7*box}];
    let food = {x: Math.floor(Math.random()*20) * box, y: Math.floor(Math.random()*20) * box};
    let d;
    let score = 0;

    document.addEventListener("keydown", direction);
    function direction(event){
        if(event.key === "ArrowLeft" && d !== "RIGHT") d = "LEFT";
        else if(event.key === "ArrowUp" && d !== "DOWN") d = "UP";
        else if(event.key === "ArrowRight" && d !== "LEFT") d = "RIGHT";
        else if(event.key === "ArrowDown" && d !== "UP") d = "DOWN";
    }

    function draw() {
        ctx.fillStyle = "#000000";
        ctx.fillRect(0,0,canvas.width,canvas.height);

        for(let i=0; i<snake.length; i++){
            ctx.fillStyle = "#0ed145";
            ctx.fillRect(snake[i].x, snake[i].y, box, box);
        }

        ctx.fillStyle = "#ffffff";
        ctx.fillRect(food.x, food.y, box, box);

        let snakeX = snake[0].x;
        let snakeY = snake[0].y;

        if(d === "LEFT") snakeX -= box;
        if(d === "UP") snakeY -= box;
        if(d === "RIGHT") snakeX += box;
        if(d === "DOWN") snakeY += box;

        if(snakeX === food.x && snakeY === food.y){
            score++;
            food = {x: Math.floor(Math.random()*20) * box, y: Math.floor(Math.random()*20) * box};
        } else {
            snake.pop();
        }

        const newHead = {x: snakeX, y: snakeY};

        if(snakeX < 0 || snakeX >= canvas.width || snakeY < 0 || snakeY >= canvas.height || collision(newHead,snake)){
            clearInterval(game);
            alert("Game Over! Score: "+score);
            window.location.reload();
        }

        snake.unshift(newHead);
    }

    function collision(head,array){
        for(let i=0;i<array.length;i++){
            if(head.x===array[i].x && head.y===array[i].y) return true;
        }
        return false;
    }

    let game = setInterval(draw,150);
}
</script>
</body>
</html>
